================= Day 4 – Reverse Proxy =================

Mục tiêu:
- Dựng Node.js app chạy trong container, không mở port ra ngoài.
- Dùng Nginx làm reverse proxy, map http://app.local:8080 → Node app.

Kết quả:
- Truy cập http://app.local:8080 thấy "Hello from Node app - Day 4".
- Container node_app không có port ngoài host, chỉ Nginx có 8080:80.

Những vấn đề thực tế:
- Nếu mỗi service đều tự mở port ra ngoài thì:
  + Mỗi lần truy cập phải nhớ port (3000, 4000, 5000…).
  + Khó quản lý SSL/HTTPS, firewall, domain.
  + Bảo mật kém: ai cũng có thể truy cập trực tiếp backend.
- Nhưng Nginx reverse proxy xuất hiện để giải quyết những vấn đề thực tế này:
  + Che giấu backend: bên ngoài không biết service nào chạy port nào.
  + Gom nhiều backend về một cổng duy nhất (80/443) → dễ quản lý firewall, SSL.
  + Gắn domain đẹp cho từng service (app.local, api.local…) thay vì nhớ port.
  + Cho phép thêm caching, load balancing, rate limit… mà không đụng tới code backend.

Giải thích:
- node_app chỉ EXPOSE 3000 (nội bộ), không map ra host.
- Nginx và node_app cùng mạng Docker nên Nginx gọi được http://nodeapp:3000.
- Nginx là “cửa” duy nhất mở ra host (8080:80). Browser chỉ kết nối tới Nginx.
- Đây chính là pattern “reverse proxy” thực tế, giống như “network gateway”.

============================
neu chi thay doi code hoac docker-compose.yml, thi chay lenh: docker compose up  -d
neu thay doi: thai chay lenh : docker compose up --build -d
    - file Dockerfile
    - Thay đổi code nằm trong thư mục build context được COPY vào image.
    - Hoặc chắc chắn muốn rebuild cho sạch.